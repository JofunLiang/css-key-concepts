# 文档流

在 CSS 布局时，一旦生成了盒子以后，CSS 引擎就需要定位它们以完成布局。下面是定位盒子时所使用的规则：
* **普通流（也叫标准流）**：按照次序依次定位每个盒子
* **浮动**：将盒子从普通流中单独拎出来，将其放到外层盒子的某一边
* **绝对定位**：按照绝对位置来定位盒子，其位置根据盒子的包含元素所建立的绝对坐标系来计算，因此绝对定位元素有可能会覆盖其他元素

## 普通流

在普通流中，盒子会依次放置。在**块格式化上下文**中，盒子在垂直方向自上而下依次排列；而在**行内格式化上下文**中，盒子则在水平自作向右依次排列。当 CSS 的 position 属性为 static 或 relative，并且 float 为 none 时，其布局方式为普通流。

> **注意**：当 position 为 relative 时为相对定位，此时每个盒子还会根据 top、bottom、left 和 right 属性的值在其原本所在的位置上产生指定大小的偏移。

## 浮动

在浮动定位中，浮动盒子会浮动到当前行的开始或尾部位置。这会导致普通流中的文本及其他内容会“流”到浮动盒子的边缘处，除非元素通过 clear 清除了前面的浮动。

一个盒子的 float 值不为 none，并且其 position 为 static 或 relative 时，该盒子为浮动定位。如果将 float 设置为 left，浮动盒子会定位到当前行盒子的开始位置（左侧），如果设置为 right，浮动盒子会定位到当前行盒子的尾部位置（右侧）。不管是左浮动还是右浮动，行盒子都会伸缩以适应浮动盒子的大小。

> **注意**：一个盒子的 float 值不为 none，并且其 position 为 static 或 relative 时，该盒子为**浮动定位**。

## 绝对定位

如果元素的 position 为 absolute 或 fixed，该元素为绝对定位。

在绝对定位中，盒子会完全从当前流中移除，并且不会再与其有任何联系（译注：此处仅指定位和位置计算，而绝对定位的元素在文档树中仍然与其他元素有父子或兄弟等关系），其位置会使用 top、bottom、left 和 right 相对其**包含块**进行计算。

对固定定位（即 position 为 fixed）的元素来说，其**包含块**为整个视口，该元素相对视口进行绝对定位，因此滚动时元素的位置并不会改变。
